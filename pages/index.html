<!DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8">
      <title>Electron-Firebase Quickstart Cloud Framework</title>
      <meta name="copyright" content="Copyright &copy; 2019-2021 by David Asher" />
      <meta name="author" content="David Asher, https://github.com/david-asher" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
      <link type="text/css" rel="stylesheet" href="/scripts/indexpage_style.css" /> 

      <script src="/scripts/setmodule_off.js"></script>
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
      <script src="/scripts/setmodule_on.js"></script>

      <script src="/scripts/webutils.js"></script>
      <script src="/scripts/weblocal.js"></script>
      <script src="/scripts/webmodal.js"></script>
      <script src="/scripts/indexpage_script.js"></script>

    </head>
    <body>
      <div class="alert alert-secondary" role="alert">
        <h2>Electron-Firebase Quickstart Cloud Framework</h2>
        <button type="button" class="btn btn-warning btn-sm btn-user-action" value="signout">Sign Out</button>
      </div>
      <div id="main-window-content" class="d-none">
        <div class="container border border-info rounded text-info m-3 p-3 vw-100">
          <h3>User and App Information (firebase.database)</h3>
          <button is="info-button" data-set="user" data-ask="profile">User Profile</button>
          <button is="info-button" data-set="user" data-ask="provider">Identity Provider</button>
          <button is="info-button" data-set="user" data-ask="context">Application Context</button>
        </div>
        <div class="container border border-info rounded text-info m-3 p-3 vw-100">
          <h3>Cloud Objects (firebase.firestore)
            <div id="file-domain" class="btn-group float-right font-weight-bold" role="group" aria-label="File Domain Selector">
              <button type="button" class="btn btn-sm btn-outline-info active" value="file" >My Files</button>
              <button type="button" class="btn btn-sm btn-outline-info " value="app" >Shared App Files</button>
              <button type="button" class="btn btn-sm btn-outline-info " value="public" >Public Files</button>
            </div>
          </h3>
          <div class="row">
            <div class="col-3">
              <div id="nav-folder-links" class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
                <div class="spinner-border spinner-border-lg text-secondary m-3" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div>
            </div>
            <div class="col-9">
              <div id="nav-folder-files" class="tab-content">
                <div class="spinner-border spinner-border-lg text-secondary m-3 d-none" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
                <table class="table table-striped table-sm">
                  <thead>
                    <tr>
                      <th scope="col">File</th>
                      <th scope="col">Modified</th>
                      <th scope="col">Size</th>
                      <th scope="col">Download</th>
                      <th scope="col">Link</th>
                    </tr>
                  </thead>
                  <tbody class="tableBody">
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>  
      </div>
      <!--
        The main-window-loading is shown when the app starts, until is gets the signal
        from the main app to start, which should happen once the user is authenticated.
      -->
      <div id="main-window-loading" class="jumbotron jumbotron-fluid">
        <div class="d-flex justify-content-center align-items-center">
          <div class="spinner-border spinner-border-lg text-secondary m-3" role="status">
            <span class="sr-only">Loading...</span>
          </div>
          <h3 class="text-secondary">Starting the application...</h3>
        </div>
      </div>
      <!--
        The following is the modal dialog, which is normally not seen until one of the
        info-button objects is clicked.
      -->
      <div class="modal fade text-info" id="ModalDialog" tabindex="-1" role="dialog" aria-labelledby="ModalDialogLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
          <div class="modal-content">
            <div class="modal-header align-items-center justify-content-start text-light bg-secondary">
              <div class="spinner-border m-2">
                  <span class="sr-only">Loading...</span>
              </div>
              <h5 class="modal-title">---</h5>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
              <button type="button" id="ModalDialogAccept" class="btn btn-secondary" data-dismiss="modal">OK</button>
            </div>
          </div>
        </div>
      </div>

    </body>

  </html>